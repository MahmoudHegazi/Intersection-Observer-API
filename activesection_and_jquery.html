<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<style>
.demo {
 padding: 10px;
 border: 1px solid green;
  width:100%;height:500px;
}

.container{
  height: auto;
  height: 1500px;
}

.child {

  background: lightgreen;
  height: 80%;
  width: 80%;
  border: 2px solid aqua;
  display: none;
}

.img {
  width: 200px;
  height: 200px;
  display: inhite;
}

</style>
<script>
$(document).ready(function(){


  $(window).scroll(function(){

    var testDivs = document.querySelectorAll(".test");
  
  for (var i=0; i<testDivs.length; i++){
   //   alert(testDivs[i].offsetTop);
   // alert(window.scrollY);
    
    if ( window.scrollY >= (testDivs[i].offsetTop -200) &&  window.scrollY < (testDivs[i].offsetTop +  testDivs[i].offsetHeight))
    
    { 
    
    
    testDivs.forEach( (item)=>{
      if (!testDivs[i].classList.contains("b")){
       testDivs[i].classList.remove("b");
       
       }
    });
     
    console.log((window.scrollY - testDivs[i].offsetTop)*-1, "+", i, "height", testDivs[i].offsetHeight); 
    
      
      $(testDivs[i].firstElementChild).fadeIn("slow");
      
      if (!testDivs[i].classList.contains("b")){testDivs[i].classList.add("b");}
    } else {
      $(testDivs[i].firstElementChild).fadeOut("slow");
      testDivs[i].firstElementChild.style.display = "none";
    }
  }
  
  
  /*
    $("#div1").fadeIn();
    $("#div2").fadeIn("slow");
    $("#div3").fadeIn(3000);
    
    */
    
    
  });
});
</script>
</head>
<body>

<p>Demonstrate fadeIn() with different parameters.</p>

<button>Click to fade in boxes</button><br><br>

<div class="container">
<div class="demo test" id="div1">
  <div class="child"></div>
</div><br>
<div class="demo test" id="div2"><div class="child"><img src="https://i.stack.imgur.com/rpKqs.gif"></div></div><br>
<div class="demo test" id="div3"><div class="child"></div></div>
<div class="demo test" id="div4"><div class="child"></div></div>
<div class="demo test" id="div5"><div class="child"></div></div>
<div class="demo test" id="div6"><div class="child"></div></div>
<div class="demo test" id="div7"><div class="child"></div></div>
</div>


</body>
</html>
